<!-- Patient's progress -->

<style>

    .levels-charts {
        display: grid;
        grid-template-columns: 1fr 1fr;
    }

    #chart-box {
        margin-bottom: 30px;
    }
    .chart {
        width:100px;
        height:100px;
        display:inline-block;
        border-radius:50%;
        border:5px solid transparent;
        background:
        linear-gradient(#ccc, #ccc) padding-box, 
        linear-gradient(var(--v), #1e87f0 50%, transparent 0) border-box,
        linear-gradient(to right, #f2f2f2 50%, #1e87f0 0) border-box;
    }

    .chart-zero {
        width:100px;
        height:100px;
        display:inline-block;
        border-radius:50%;
        border:5px solid transparent;
        background:
        linear-gradient(#ccc, #ccc) padding-box, 
        linear-gradient(var(--v), #f2f2f2 50%, transparent 0) border-box,
        linear-gradient(to right, #f2f2f2 50%, #1e87f0 0) border-box;
    }

    .chart-one {
        width:100px;
        height:100px;
        display:inline-block;
        border-radius:50%;
        border:5px solid transparent;
        background:
        linear-gradient(#ccc, #ccc) padding-box, 
        linear-gradient(var(--v), #f2f2f2 50%, transparent 0) border-box,
        linear-gradient(to right, #f2f2f2 50%, #1e87f0 0) border-box;

    }

</style>

<div class="wrapper-env">
    <div class="selecter">
        <form>
            <button class="uk-button uk-button-default uk-text-small" type="button"> Select anxiety status for specific enviorment 
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                  </svg>
            </button>
            <div uk-dropdown="animation: uk-animation-slide-top-small; duration: 1000">
                <% if(typeof userdata != 'undefined' ) { %> 
                    <% if ( ! userdata.env_title) { %> 
                            <ul class="uk-nav uk-dropdown-nav">
                                 <p style="color: black;"> no enviroment yet  </p>
                            </ul>
                <% } else { %> 
                <ul class="uk-nav uk-dropdown-nav">
                    <li class="uk-active"><a href="/list/chart/:<%= userdata.player_id %>/<%= userdata.env_title %> "> <%= userdata.env_title %> </a></li>
                </ul>
            <% }%> 
            <% } %> 

            </div>
        </form>
</div>


<div id="env-selecter">
    <% if (typeof chosen != 'undefined') {%> 
        <% if ( chosen == 'yes') { %> 

<div id="chart-box">

   <p class="uk-text-lead uk-text-light"> Patient progress </p>
   <hr class="uk-divider-small">

   <% if(typeof progress != 'undefined') {%> 
    <% if(progress.progress == 0 ) {%> 
        <div class="chart-zero" style="--v: -90deg"> </div> <!-- zero level -->
    <% } else if(progress.progress == 1 ) {%> 
        <div class="chart-one" style="--v:  35deg"></div> <!-- 37.5% first level -->
    <% } else if(progress.progress == 2) {%> 
        <div class="chart" style="--v:  -45deg"></div><!-- 12.5% second level -->
    <% } else if(progress.progress == 3) {%> 
    <div class="chart" style="--v:  90deg"></div><!-- 100% third level -->
    <% }} else { %> 
        <p> no progress found, contact us to report the issue. </p>
    <% } %> 


</div>

<div id="chart-box-second">

    <p class="uk-text-lead uk-text-light"> Anxiety status </p>
    <hr class="uk-divider-small">
    <div class="levels-charts">

        <canvas id="level-one" width="320" height="60px">

        </canvas>
    
        <canvas id="level-three" width="320" height="60px">
    
        </canvas>

    </div>

</div>

<% } else if (chosen == 'no') { %> 
    <p> This environment has no analytics for now. </p>
<% } } else {%> 
    <p> Select an environment to show the anxiety status of the patient for a specific environment</p>
<% } %>


<script>
var ctx = document.getElementById('level-one').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ['Level One'],
        datasets: [{
            label: 'Anxiety status for level one',
            backgroundColor: '#1e87f0',
            borderColor: ' #155ea8',
            data: [0, 1, 2, 3 ]
        }]
    },

    // Configuration options go here level-three
    options: {}
});

var ctx = document.getElementById('level-three').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: ['Level Three' ],
        datasets: [{
            label: 'Anxiety status for level three',
            backgroundColor: '#1e87f0',
            borderColor: ' #155ea8',
            data: [0, 1, 2, 3 ]
        }]
    },

    // Configuration options go here level-three
    options: {}
});


</script>

</div>

</div>

